"use strict";(self.webpackChunkgeo_web_docs=self.webpackChunkgeo_web_docs||[]).push([[2688],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>b});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),p=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},s="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),s=p(a),m=n,b=s["".concat(c,".").concat(m)]||s[m]||u[m]||l;return a?r.createElement(b,o(o({ref:t},d),{},{components:a})):r.createElement(b,o({ref:t},d))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[s]="string"==typeof e?e:n,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5128:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const l={description:"Documentation for the GeoWebParcelFacetV2 contract."},o="GeoWebParcelFacet",i={unversionedId:"developers/core-contracts/registrydiamond/geowebparcelfacet/README",id:"developers/core-contracts/registrydiamond/geowebparcelfacet/README",title:"GeoWebParcelFacet",description:"Documentation for the GeoWebParcelFacetV2 contract.",source:"@site/docs/005-developers/002-core-contracts/002-registrydiamond/geowebparcelfacet/README.md",sourceDirName:"005-developers/002-core-contracts/002-registrydiamond/geowebparcelfacet",slug:"/developers/core-contracts/registrydiamond/geowebparcelfacet/",permalink:"/developers/core-contracts/registrydiamond/geowebparcelfacet/",draft:!1,tags:[],version:"current",frontMatter:{description:"Documentation for the GeoWebParcelFacetV2 contract."},sidebar:"developersSidebar",previous:{title:"PCOERC721Facet",permalink:"/developers/core-contracts/registrydiamond/erc721facet"},next:{title:"Coordinates",permalink:"/developers/core-contracts/registrydiamond/geowebparcelfacet/geo-web-coordinates"}},c={},p=[{value:"Summary",id:"summary",level:2},{value:"Code",id:"code",level:2},{value:"Contract Functions",id:"contract-functions",level:2},{value:"GeoWebParcelFacet",id:"geowebparcelfacet-1",level:3},{value:"availabilityIndex",id:"availabilityindex",level:4},{value:"getLandParcel",id:"getlandparcel",level:4},{value:"GeoWebParcelFacetV2",id:"geowebparcelfacetv2",level:3},{value:"getLandParcelV2",id:"getlandparcelv2",level:4}],d={toc:p},s="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(s,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"geowebparcelfacet"},"GeoWebParcelFacet"),(0,n.kt)("h2",{id:"summary"},"Summary"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"GeoWebParcelFacet")," contract extends the ",(0,n.kt)("a",{parentName:"p",href:"../erc721facet"},"basic ERC-721 functionality")," to the Geo Web-specific requirements that define a land parcel: shape, contiguousness, and uniqueness."),(0,n.kt)("p",null,"This is done with an ",(0,n.kt)("a",{parentName:"p",href:"./geo-web-coordinates"},"EVM-optimized global grid system"),". Grid cells are called Geo Web Coordinates. Each coordinate represents a unique ","~","20m$$^2$$ space on Earth."," "),(0,n.kt)("p",null,"Coordinates can only be part of one parcel at any one time (merging, splitting, and trimming parcels will be implemented at a later date)."),(0,n.kt)("p",null,"Each Geo Web land parcel is defined by its southwestmost Coordinate plus its longitude and latitude dimensions (maximum 200 coordinates in each direction and 3,000 for the total area). This means that for now, all parcels are rectangles."),(0,n.kt)("p",null,"These limitations were implemented for performance, land market efficiency, and migratability reasons. Eventually, parcels may be defined with arbitrary polygons."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"GeoWebParcelFacet")," defines these functions while the state is held in the ",(0,n.kt)("a",{parentName:"p",href:"../"},(0,n.kt)("inlineCode",{parentName:"a"},"RegistryDiamond")),"."),(0,n.kt)("h2",{id:"code"},"Code"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Geo-Web-Project/core-contracts/blob/main/contracts/registry/facets/GeoWebParcelFacet.sol"},(0,n.kt)("inlineCode",{parentName:"a"},"GeoWebParcelFacet.sol"))),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/Geo-Web-Project/core-contracts/blob/main/contracts/registry/libraries/LibGeoWebParcel.sol"},(0,n.kt)("inlineCode",{parentName:"a"},"LibGeoWebParcel.sol"))),(0,n.kt)("h2",{id:"contract-functions"},"Contract Functions"),(0,n.kt)("h3",{id:"geowebparcelfacet-1"},"GeoWebParcelFacet"),(0,n.kt)("h4",{id:"availabilityindex"},"availabilityIndex"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-solidity"},"function availabilityIndex(uint256 x, uint256 y) external view returns (uint256)\n")),(0,n.kt)("p",null,"Get availability index for coordinates"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Parameters")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"x"),(0,n.kt)("td",{parentName:"tr",align:null},"uint256"),(0,n.kt)("td",{parentName:"tr",align:null},"X coordinate")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"y"),(0,n.kt)("td",{parentName:"tr",align:null},"uint256"),(0,n.kt)("td",{parentName:"tr",align:null},"Y coordinate")))),(0,n.kt)("h4",{id:"getlandparcel"},"getLandParcel"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-solidity"},"function getLandParcel(uint256 id) external view returns (uint64 baseCoordinate, uint256[] path)\n")),(0,n.kt)("p",null,"Get a land parcel"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Parameters")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"id"),(0,n.kt)("td",{parentName:"tr",align:null},"uint256"),(0,n.kt)("td",{parentName:"tr",align:null},"ID of land parcel")))),(0,n.kt)("h3",{id:"geowebparcelfacetv2"},"GeoWebParcelFacetV2"),(0,n.kt)("h4",{id:"getlandparcelv2"},"getLandParcelV2"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-solidity"},"function getLandParcelV2(uint256 id) external view returns (uint64 swCoordinate, uint256 latDim, uint256 lngDim)\n")),(0,n.kt)("p",null,"Get a V2 land parcel"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Parameters")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"id"),(0,n.kt)("td",{parentName:"tr",align:null},"uint256"),(0,n.kt)("td",{parentName:"tr",align:null},"ID of land parcel")))))}u.isMDXComponent=!0}}]);